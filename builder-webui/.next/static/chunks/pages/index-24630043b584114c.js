(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return o(4477)}])},4477:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return pages}});var n=o(5893),a=o(9008),l=o.n(a),s=o(7294),r=o(4409),i=o(7812),d=o(6851);o(8522);let c=(0,s.createContext)(void 0),ButtonTextProvider=e=>{let{children:t}=e,[o,a]=(0,s.useState)({});return(0,n.jsx)(c.Provider,{value:{buttonTexts:o,updateButtonText:(e,t)=>{a(o=>({...o,[e]:t}))}},children:t})},useButtonText=()=>{let e=(0,s.useContext)(c);if(void 0===e)throw Error("useButtonText must be used within a ButtonTextProvider");return e},u=[{id:"source",type:"source",position:{x:0,y:0},data:{label:"start"}},{id:"end",type:"end",position:{x:0,y:600},data:{label:"__end__"}}],p={"position-logger":function(e){let{positionAbsoluteX:t,positionAbsoluteY:o,data:a}=e;return(0,n.jsxs)("div",{className:"react-flow__node-default",children:[a.label&&(0,n.jsx)("div",{children:a.label}),(0,n.jsxs)("div",{children:["".concat(Math.round(t),"px")," ","".concat(Math.round(o),"px")]}),(0,n.jsx)(r.HH,{type:"source",position:i.Ly.Bottom})]})},source:function(e){let{data:t}=e;return(0,n.jsxs)("div",{className:" rounded-3xl p-[0.5px]  ",style:{border:"1px solid #333333",backgroundColor:"transparent"},children:[(0,n.jsx)("div",{className:"p-3 px-8 rounded-3xl",style:{color:"#333333"},children:"__start__"}),(0,n.jsx)(r.HH,{type:"source",style:{width:"10px",height:"10px",border:"2px solid #333333",backgroundColor:"#FFFFFF"},position:i.Ly.Bottom})]})},custom:function(e){let{data:t,id:o,selected:a}=e,{setNodes:l}=(0,r._K)(),{buttonTexts:d,updateButtonText:c}=useButtonText(),[u,p]=(0,s.useState)(150),m=(0,s.useRef)(null),{borderColor:g,backgroundColor:x}=(0,s.useMemo)(()=>{let e=Math.floor(360*Math.random()),t=70+30*Math.random(),o=60+20*Math.random(),n="hsl(".concat(e,", ").concat(t,"%, ").concat(o,"%)"),a=Math.min(o+90,95),l="hsl(".concat(e,", ").concat(t,"%, ").concat(a,"%)");return{borderColor:n,backgroundColor:l}},[]),h=(0,s.useCallback)(()=>{if(m.current){let e=m.current.scrollWidth,t=Math.max(150,e);p(t)}},[]);return(0,s.useEffect)(()=>{c(o,t.label)},[]),(0,s.useEffect)(()=>{h()},[d[o],h]),(0,n.jsx)("div",{className:"rounded-md p-0",style:{border:"none",backgroundColor:"transparent"},children:(0,n.jsxs)("div",{className:"rounded-md p-2",style:{border:"2px solid ".concat(g),backgroundColor:x,width:"".concat(u,"px"),boxShadow:a?"0 0 12px rgba(0, 0, 0, 0.3)":"none"},children:[(0,n.jsx)("input",{ref:m,type:"text",className:"w-full outline-none rounded-md text-center p-0 text-white",value:d[o],onChange:e=>{let t=e.target.value;c(o,t),l(e=>e.map(e=>e.id===o?{...e,data:{...e.data,label:t}}:e)),h()},style:{backgroundColor:"transparent",color:"#333333",width:"100%"}}),(0,n.jsx)(r.HH,{type:"source",style:{width:"10px",height:"10px",backgroundColor:"#FFFFFF",border:"2px solid ".concat(g)},position:i.Ly.Bottom}),(0,n.jsx)(r.HH,{type:"target",style:{width:"10px",height:"10px",backgroundColor:"#FFFFFF",border:"2px solid ".concat(g)},position:i.Ly.Top})]})})},end:function(){return(0,n.jsxs)("div",{className:" rounded-3xl p-[0.5px]  ",style:{border:"1px solid #333333",backgroundColor:"transparent"},children:[(0,n.jsx)("div",{className:"p-3 px-8 font-medium rounded-3xl",style:{color:"#333333"},children:"__end__"}),(0,n.jsx)(r.HH,{type:"target",style:{width:"10px",height:"10px",border:"2px solid #333333",backgroundColor:"#FFFFFF"},position:i.Ly.Top})]})}},m={width:20,height:20,background:"#eee",border:"1px solid #fff",cursor:"pointer",borderRadius:"50%",fontSize:"12px",lineHeight:1},g=(0,s.createContext)(void 0),EdgeLabelProvider=e=>{let{children:t}=e,[o,a]=(0,s.useState)({});return(0,n.jsx)(g.Provider,{value:{edgeLabels:o,updateEdgeLabel:(e,t)=>{a(o=>({...o,[e]:t}))},getEdgeLabel:(e,t)=>o[e]||t},children:t})},useEdgeLabel=()=>{let e=(0,s.useContext)(g);if(void 0===e)throw Error("useEdgeLabel must be used within an EdgeLabelProvider");return e},x=(0,s.createContext)({editingEdgeId:null,setEditingEdgeId:()=>{}}),EditingProvider=e=>{let{children:t}=e,[o,a]=(0,s.useState)(null);return(0,n.jsx)(x.Provider,{value:{editingEdgeId:o,setEditingEdgeId:a},children:t})};var h=o(3935);let ColorPicker=e=>{let{color:t,onChange:o,onClose:a,edgeId:l}=e;return(0,h.createPortal)((0,n.jsx)("div",{className:"fixed bottom-5 left-5 z-50",style:{width:"280px"},children:(0,n.jsxs)("div",{className:"flex flex-col gap-3 bg-white p-4 rounded-lg shadow-xl",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"text-sm font-semibold text-gray-800",children:"Set edge color"}),(0,n.jsx)("button",{onClick:e=>{e.stopPropagation(),a(l)},className:"text-sm bg-slate-800 hover:bg-slate-900 text-slate-100 py-1 px-2 rounded-md",children:"Done"})]}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("input",{type:"color",value:t,onChange:o,className:"relative w-full h-[80px] cursor-pointer rounded-lg shadow-md ring-1 ring-gray-200",onClick:e=>e.stopPropagation()}),(0,n.jsx)("div",{className:"mt-2 flex justify-center",children:(0,n.jsx)("div",{className:"bg-gray-100 px-3 py-1 rounded-full",children:(0,n.jsx)("code",{className:"text-sm font-mono text-gray-700",children:t.toUpperCase()})})})]})]})}),document.body)},y=s.createContext({activeEdgeId:null,setActiveEdgeId:()=>{}}),ColorEditingProvider=e=>{let{children:t}=e,[o,a]=(0,s.useState)(null);return(0,n.jsx)(y.Provider,{value:{activeEdgeId:o,setActiveEdgeId:a},children:t})},b=[],f={"button-edge":function(e){let{id:t,sourceX:o,sourceY:a,targetX:l,targetY:s,sourcePosition:d,targetPosition:c,style:u={},markerEnd:p}=e,{setEdges:g}=(0,r._K)(),[x,h,y]=(0,i.OQ)({sourceX:o,sourceY:a,sourcePosition:d,targetX:l,targetY:s,targetPosition:c});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.u5,{path:x,markerEnd:p,style:u}),(0,n.jsx)(r.XQ,{children:(0,n.jsx)("div",{style:{position:"absolute",transform:"translate(-50%, -50%) translate(".concat(h,"px,").concat(y,"px)"),fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:(0,n.jsx)("button",{style:m,onClick:()=>{g(e=>e.filter(e=>e.id!==t))},children:"\xd7"})})})]})},"self-connecting-edge":function(e){let{sourceX:t,sourceY:o,targetX:a,targetY:l,id:d,markerEnd:c,source:u,label:p,animated:m}=e,{setEdges:g}=(0,r._K)(),{edgeLabels:h,updateEdgeLabel:b}=useEdgeLabel(),[f,v]=(0,s.useState)(h[u]),{editingEdgeId:j,setEditingEdgeId:w}=(0,s.useContext)(x),[C,k]=(0,s.useState)(130),[N,E]=(0,s.useState)("#BDBDBD"),_=(0,s.useRef)(null),S=(0,s.useRef)(null),{activeEdgeId:A,setActiveEdgeId:F}=(0,s.useContext)(y),L=A===d;(0,s.useEffect)(()=>{let e=document.createElement("div");return e.style.position="absolute",e.style.visibility="hidden",e.style.whiteSpace="nowrap",e.style.fontSize="12px",e.style.fontFamily="inherit",document.body.appendChild(e),S.current=e,()=>{S.current&&document.body.removeChild(S.current)}},[]),(0,s.useEffect)(()=>{if(S.current){let e=String(h[u]||p||" ");S.current.textContent=e;let t=S.current.offsetWidth;k(t+30)}},[h[u],p,u]),(0,s.useEffect)(()=>{v(h[u])},[h,u]);let handleSvgClick=()=>{F(d)},handleLabelClick=e=>{e.stopPropagation(),w(d)},handleInputChange=e=>{e.stopPropagation(),v(e.target.value)},handleInputBlur=e=>{e.stopPropagation(),b(u,f),g(e=>e.map(e=>e.source===u?{...e,label:f}:e)),w(null)},handleInputKeyDown=e=>{e.stopPropagation(),"Enter"===e.key&&(b(u,f),g(e=>e.map(e=>e.source===u?{...e,label:f}:e)),w(null)),"Escape"===e.key&&(v(h[u]||p),w(null))},handleForeignObjectDoubleClick=e=>{e.stopPropagation(),e.preventDefault()},handleColorChange=e=>{E(e.target.value)};if(e.source!==e.target){let[s]=(0,i.OQ)({sourceX:t,sourceY:o,targetX:a,targetY:l}),c=(t+a)/2,g=(o+l)/2;return(0,n.jsx)("svg",{className:"cursor-pointer",onClick:()=>handleSvgClick(),width:"100%",height:"100%",style:{position:"absolute",top:0,left:0,pointerEvents:"all"},children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("defs",{children:(0,n.jsx)("marker",{id:"triangle-".concat(d),markerWidth:"5",markerHeight:"18",viewBox:"-15 -15 30 30",markerUnits:"strokeWidth",orient:"auto-start-reverse",refX:"0",refY:"0",children:(0,n.jsx)("path",{d:"M -22.5 -18 L 0 0 L -22.5 18 Z",style:{fill:N}})})}),(0,n.jsx)(r.u5,{...e,id:d,path:s,markerEnd:"url(#triangle-".concat(d,")"),style:{stroke:N,strokeWidth:e.selected?6:3.9,transition:"stroke-width 0.3s ease-in-out",filter:e.selected?"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))":"none"}}),L&&e.selected&&(0,n.jsx)(ColorPicker,{color:N,onChange:handleColorChange,onClose:t=>{var o,n;F(null),null===(n=e.data)||void 0===n||null===(o=n.onEdgeUnselect)||void 0===o||o.call(n,t)},edgeId:d}),m&&(j===d?(0,n.jsx)("foreignObject",{style:{overflow:"visible"},x:c-(C+20)/2,y:g-17.5,width:Math.max(C,50),height:35,onDoubleClick:handleForeignObjectDoubleClick,children:(0,n.jsx)("input",{type:"text",value:f,onChange:handleInputChange,onBlur:handleInputBlur,autoFocus:!0,onKeyDown:e=>{e.stopPropagation(),handleInputKeyDown(e)},onClick:e=>{e.stopPropagation()},onDoubleClick:handleForeignObjectDoubleClick,className:"\n                bg-[#F5F5F7] outline-none border border-[#D1D2D9] text-center text-[#333333] w-full h-full text-xs rounded-full\n                transition-all duration-500 ease-in-out min-w-[50px]\n              "})}):(0,n.jsx)("foreignObject",{style:{overflow:"visible"},x:c-(C+20)/2,y:g-17.5,width:Math.max(C,50),height:35,onDoubleClick:handleForeignObjectDoubleClick,children:(0,n.jsx)("div",{onClick:e=>{e.stopPropagation(),handleLabelClick(e)},onDoubleClick:handleForeignObjectDoubleClick,className:"\n                bg-[#F5F5F7] border border-[#D1D2D9] \n                flex items-center justify-center text-center \n                text-[#333333] h-full text-xs rounded-full\n                w-full transition-all duration-500 ease-in-out min-w-[50px]\n              ",children:(0,n.jsx)("span",{ref:_,className:"whitespace-nowrap text-center transition-all duration-500 ease-in-out min-w-[25px]",children:h[u]||p||" "})})}))]})})}let O="M ".concat(t," ").concat(o," A 60 60 0 1 0 ").concat(a," ").concat(l);return(0,n.jsx)("svg",{className:"cursor-pointer",onClick:()=>handleSvgClick(),width:"100%",height:"100%",style:{position:"absolute",top:0,left:0,pointerEvents:"all"},children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("defs",{children:(0,n.jsx)("marker",{id:"triangle-cycle-".concat(d),markerWidth:"5",markerHeight:"18",viewBox:"-15 -15 30 30",markerUnits:"strokeWidth",orient:"auto-start-reverse",refX:"0",refY:"0",children:(0,n.jsx)("path",{d:"M -22.5 -18 L 0 0 L -22.5 18 Z",style:{fill:N}})})}),(0,n.jsx)(r.u5,{path:O,markerEnd:"url(#triangle-cycle-".concat(d,")"),style:{stroke:N,strokeWidth:e.selected?6:3.9,transition:"stroke-width 0.3s ease-in-out",filter:e.selected?"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))":"none"}}),L&&(0,n.jsx)(ColorPicker,{color:N,onChange:handleColorChange,onClose:t=>{var o,n;F(null),null===(n=e.data)||void 0===n||null===(o=n.onEdgeUnselect)||void 0===o||o.call(n,t)},edgeId:d}),m&&(j===d?(0,n.jsx)("foreignObject",{style:{overflow:"visible"},x:t,y:o,width:Math.max(C,50),height:35,onDoubleClick:handleForeignObjectDoubleClick,children:(0,n.jsx)("input",{type:"text",value:f,onChange:handleInputChange,onBlur:handleInputBlur,onKeyDown:e=>{e.stopPropagation(),handleInputKeyDown(e)},onClick:e=>{e.stopPropagation()},onDoubleClick:handleForeignObjectDoubleClick,autoFocus:!0,className:"\n                bg-[#F5F5F7] outline-none border border-[#D1D2D9] text-center w-full h-full text-xs text-[#333333] rounded-full\n                transition-all duration-500 ease-in-out min-w-[50px]\n              "})}):(0,n.jsx)("foreignObject",{style:{overflow:"visible"},x:t,y:o,width:Math.max(C,50),height:35,onDoubleClick:handleForeignObjectDoubleClick,children:(0,n.jsx)("div",{onClick:e=>{e.stopPropagation(),handleLabelClick(e)},onDoubleClick:handleForeignObjectDoubleClick,className:"\n                bg-[#F5F5F7] border border-[#D1D2D9] \n                flex items-center justify-center text-center \n                text-[#333333] h-full text-xs rounded-full\n                w-full transition-all duration-500 ease-in-out min-w-[50px]\n              ",children:(0,n.jsx)("span",{ref:_,className:"whitespace-nowrap text-center transition-all duration-500 ease-in-out min-w-[25px]",children:h[u]||p||" "})})}))]})})}};var v=o(2735),j=o(7168),w=o(4682),C=o(2526),k=o(6989),N=o(1352),E=o(3025),_=o(3742),S=o(6915),A=o(2573),multibutton=e=>{let{options:t=["Java","Python","Typescript"],onSelectionChange:o,lang:a}=e,[l,r]=(0,s.useState)(()=>{if(a){let e=t.findIndex(e=>e.toLowerCase()===a.toLowerCase());return e>=0?e:0}return 0}),handleOptionClick=e=>{r(e),o&&o(t[e],e)};return(0,n.jsx)("div",{className:"w-full max-w-xs",children:(0,n.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-1 flex shadow-sm",children:[(0,n.jsx)("button",{className:"flex-1 py-2 px-6 text-md font-medium transition-colors duration-800 ease-in-out ".concat(0===l?"text-gray-700":"text-gray-300"),onClick:()=>handleOptionClick(0),children:t[0]}),(0,n.jsx)("button",{className:"flex-1 py-2 border-l border-gray-200 px-6 text-md font-medium transition-colors ".concat(1===l?"text-gray-700":"text-gray-400"),onClick:()=>handleOptionClick(1),children:t[1]}),(0,n.jsx)("button",{className:"flex-1 py-2 border-l border-gray-200 px-6 text-md font-medium transition-colors ".concat(2===l?"text-gray-700":"text-gray-400"),onClick:()=>handleOptionClick(2),children:t[2]})]})})},F=o(5675),L=o.n(F),components_GenericModal=e=>{let{isOpen:t=!0,onClose:o,title:a,content:l,buttonText:r,onButtonClick:i,hideBackDrop:d=!1,className:c="",noClickThrough:u=!1,imageUrl:p}=e,m=(0,s.useRef)(null);return((0,s.useEffect)(()=>{let handleOutsideClick=e=>{!m.current||m.current.contains(e.target)||u||o()};return t&&!d&&document.addEventListener("mousedown",handleOutsideClick),()=>{document.removeEventListener("mousedown",handleOutsideClick)}},[t,d,u,o]),t)?(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center ".concat(d?"":"bg-black bg-opacity-50"),style:{pointerEvents:u?"auto":"none"},children:(0,n.jsx)("div",{ref:m,className:"bg-white ring-1 ring-black ring-opacity-5 border-3 border-slate-600 rounded-lg p-6 max-w-md mx-auto ".concat(c),style:{pointerEvents:"auto"},children:(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center text-center",children:[p&&(0,n.jsx)("div",{className:"flex justify-center mb-6",children:(0,n.jsx)(L(),{src:p,alt:"Modal Image",width:150,height:150})}),(0,n.jsx)("h2",{className:"text-2xl font-medium",children:a}),(0,n.jsx)("div",{className:"text-md md:text-lg text-gray-500 pt-2 text-center ".concat(p?"max-w-lg":"max-w-md"),children:l}),(0,n.jsx)("button",{onClick:i||o,className:"bg-[#076699] rounded-md text-white px-4 py-2 font-medium hover:bg-[#06578a] ".concat(p?"mt-6":"mt-3"),children:r})]})})}):null},O=o(5733),Z=o.n(O);let P=[{id:"rag",name:"RAG Pipeline",description:"A basic RAG (Retrieval Augmented Generation) pipeline with document retrieval and generation.",nodes:[{id:"source",type:"source",position:{x:0,y:0},data:{label:"source"}},{id:"retriever",type:"custom",position:{x:0,y:150},data:{label:"retriever"}},{id:"model_call",type:"custom",position:{x:0,y:300},data:{label:"model_call"}},{id:"end",type:"end",position:{x:0,y:600},data:{label:"end"}}],edges:[{id:"source->retriever",source:"source",target:"retriever",type:"self-connecting-edge",markerEnd:{type:d.QZ.ArrowClosed}},{id:"retriever->model_call",source:"retriever",target:"model_call",type:"self-connecting-edge",markerEnd:{type:d.QZ.ArrowClosed}},{id:"model_call->end",source:"model_call",target:"end",type:"self-connecting-edge",markerEnd:{type:d.QZ.ArrowClosed}}]},{id:"agent",name:"Agent with Tools",description:"An agent that can use different tools based on the input.",nodes:[{id:"source",type:"source",position:{x:0,y:0},data:{label:"source"}},{id:"model",type:"custom",position:{x:0,y:150},data:{label:"model"}},{id:"tools",type:"custom",position:{x:200,y:350},data:{label:"tools"}},{id:"end",type:"end",position:{x:0,y:600},data:{label:"end"}}],edges:[{id:"source->model",source:"source",target:"model",type:"self-connecting-edge",markerEnd:{type:d.QZ.ArrowClosed}},{id:"model->tools",source:"model",target:"tools",type:"self-connecting-edge",label:"route_after_model",animated:!0,markerEnd:{type:d.QZ.ArrowClosed}},{id:"tools->model",source:"tools",target:"model",type:"self-connecting-edge",markerEnd:{type:d.QZ.ArrowClosed}},{id:"model->end",source:"model",target:"end",type:"self-connecting-edge",animated:!0,label:"route_after_model",markerEnd:{type:d.QZ.ArrowClosed}}]}];function TemplatesPanel(e){let{onSelectTemplate:t,onClose:o}=e;return(0,n.jsxs)("div",{className:"fixed left-5 top-20 z-50 w-80 bg-white rounded-lg shadow-xl p-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold",children:"Templates"}),(0,n.jsx)("button",{onClick:o,className:"font-bold text-gray-400 hover:text-gray-600 transition-colors duration-300 ease-in-out",children:(0,n.jsx)(N.Z,{size:25})})]}),(0,n.jsx)("div",{className:"space-y-4",children:P.map(e=>(0,n.jsxs)("div",{className:"p-4 border rounded-lg hover:border-[#2F6868] cursor-pointer transition-colors",onClick:()=>{t(e)},children:[(0,n.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),(0,n.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]},e.id))})]})}let LoadGraphModal=e=>{let{isOpen:t=!0,onClose:o,onLoadGraph:a,title:l="Load Graph",buttonText:r="Choose File",hideBackDrop:i=!1,className:d="",noClickThrough:c=!1}=e,u=(0,s.useRef)(null),p=(0,s.useRef)(null);return((0,s.useEffect)(()=>{let handleOutsideClick=e=>{!u.current||u.current.contains(e.target)||c||o()};return t&&!i&&document.addEventListener("mousedown",handleOutsideClick),()=>{document.removeEventListener("mousedown",handleOutsideClick)}},[t,i,c,o]),t)?(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center ".concat(i?"":"bg-black bg-opacity-50"),style:{pointerEvents:c?"auto":"none"},children:(0,n.jsx)("div",{ref:u,className:"bg-white ring-1 ring-black ring-opacity-5 border-3 border-slate-600 rounded-lg p-6 max-w-md mx-auto ".concat(d),style:{pointerEvents:"auto"},children:(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center text-center",children:[(0,n.jsx)("h2",{className:"text-2xl font-medium",children:l}),(0,n.jsx)("div",{className:"text-md md:text-lg text-gray-500 pt-2 text-center max-w-md",children:(0,n.jsx)("input",{ref:p,type:"file",accept:".json,.graph",onChange:e=>{var t;let n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n&&a){let e=new FileReader;e.onload=e=>{try{var t;let n=null===(t=e.target)||void 0===t?void 0:t.result,l=JSON.parse(n);a(l),o()}catch(e){console.error("Invalid graph file format:",e)}},e.onerror=e=>{console.error("Error reading file:",e)},e.readAsText(n)}},className:"mt-4"})}),(0,n.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,n.jsx)("button",{onClick:()=>{var e;return null===(e=p.current)||void 0===e?void 0:e.click()},className:"bg-[#076699] rounded-md text-white px-4 py-2 font-medium hover:bg-[#06578a]",children:r}),(0,n.jsx)("button",{onClick:o,className:"bg-gray-300 rounded-md text-black px-4 py-2 font-medium hover:bg-gray-400",children:"Cancel"})]})]})})}):null},LoadingSpinner=()=>(0,n.jsx)("div",{className:"flex items-center justify-center",children:(0,n.jsx)("div",{className:"w-12 h-12 border-4 border-[#2F6868] border-t-transparent rounded-full animate-spin"})});function App(){var e,t,o,a,l;let[c,m,g]=(0,r.Rr)(u),[x,h,y]=(0,r.ll)(b),[F,L]=(0,s.useState)(!1),[O,P]=(0,s.useState)(!1),T=(0,s.useRef)(null),[D,B]=(0,s.useState)(null),[Q,I]=(0,s.useState)(!1),{buttonTexts:G}=useButtonText(),[M,z]=(0,s.useState)(0),[R,H]=(0,s.useState)(0),[W,U]=(0,s.useState)(0),{edgeLabels:K,updateEdgeLabel:Y}=useEdgeLabel(),[J,V]=(0,s.useState)("stub"),[X,q]=(0,s.useState)({}),[$,ee]=(0,s.useState)("java"),[et,eo]=(0,s.useState)(null),[en,ea]=(0,s.useState)(0),[el,es]=(0,s.useState)(!1),[er,ei]=(0,s.useState)(!1),[ed,ec]=(0,s.useState)(!1),[eu,ep]=(0,s.useState)(!1),[em,eg]=(0,s.useState)(""),[ex,eh]=(0,s.useState)(!1),[ey,eb]=(0,s.useState)(!1),[ef,ev]=(0,s.useState)("Unnamed"),[ej,ew]=(0,s.useState)(!1),eC=(0,s.useRef)(c),ek=(0,s.useRef)(x);(0,s.useEffect)(()=>{let checkMobile=()=>{ep(window.innerWidth<768)};return checkMobile(),window.addEventListener("resize",checkMobile),()=>window.removeEventListener("resize",checkMobile)},[]);let eN=(0,s.useCallback)(()=>{if(!x.length)return!1;let e=c.find(e=>"source"===e.type),t=c.find(e=>"end"===e.type);if(!e||!t)return!1;let o=x.some(t=>t.source===e.id),n=x.some(e=>e.target===t.id);return o&&n},[c,x]);(0,s.useEffect)(()=>{eC.current=c,ek.current=x},[c,x]),(0,s.useEffect)(()=>{let e=localStorage.getItem("initialOnboardingComplete");eo("true"===e)},[]);let eE=[{key:"tooltip0",type:"modal",placement:"top",title:"Graph Builder",content:(0,n.jsx)("span",{children:"Let's get started with a quick onboarding! During onboarding, canvas interaction will be disabled"}),buttonText:"Start",imageUrl:"/langgraph-logo.png"},{key:"tooltip1",type:"tooltip",placement:"left",title:"1 of 7: How to create a node",content:"⌘ + click anywhere on the canvas to create a node. Nodes can have custom labels",targetNodeId:"custom1",tooltipOffset:{x:0,y:0},nodes:[{id:"source",type:"source",position:{x:0,y:0},data:{label:"source"}},{id:"end",type:"end",position:{x:0,y:600},data:{label:"end"}},{id:"custom1",type:"custom",position:{x:0,y:200},data:{label:"Supervisor"}}]},{key:"tooltip2",type:"tooltip",placement:"left",title:"2 of 7: How to create an edge",content:"Connect two nodes by dragging from the bottom of one node to the top of another",targetNodeId:"custom1",tooltipOffset:{x:0,y:-120},nodes:[{id:"source",type:"source",position:{x:0,y:0},data:{label:"source"}},{id:"end",type:"end",position:{x:0,y:600},data:{label:"end"}},{id:"custom1",type:"custom",position:{x:0,y:200},data:{label:"Supervisor"}}],edges:[{id:"source->custom1",source:"source",target:"custom1",markerEnd:{type:d.QZ.ArrowClosed}}]},{key:"tooltip3",type:"tooltip",placement:"right",title:"3 of 7: How to create a conditional edge",content:"Connect one node to multiple nodes to create a conditional edge. Conditional edges can have custom labels",targetNodeId:"custom1",tooltipOffset:{x:10,y:0},nodes:[{id:"source",type:"source",position:{x:0,y:0},data:{label:"source"}},{id:"end",type:"end",position:{x:0,y:600},data:{label:"end"}},{id:"custom1",type:"custom",position:{x:0,y:200},data:{label:"Supervisor"}},{id:"custom2",type:"custom",position:{x:eu?-120:-200,y:350},data:{label:"RAG"}},{id:"custom3",type:"custom",position:{x:eu?120:200,y:350},data:{label:"Web Search"}}],edges:[{id:"source->custom1",source:"source",target:"custom1",markerEnd:{type:d.QZ.ArrowClosed}},{id:"custom1->custom2",source:"custom1",target:"custom2",animated:!0,markerEnd:{type:d.QZ.ArrowClosed},type:"self-connecting-edge",label:"conditional_edge_1"},{id:"custom1->custom3",source:"custom1",target:"custom3",animated:!0,markerEnd:{type:d.QZ.ArrowClosed},type:"self-connecting-edge",label:"conditional_edge_1"},{id:"custom2->end",source:"custom2",target:"end",markerEnd:{type:d.QZ.ArrowClosed}},{id:"custom3->end",source:"custom3",target:"end",markerEnd:{type:d.QZ.ArrowClosed}}]},{key:"tooltip4",type:"tooltip",placement:"left",title:"4 of 7: How to create a cycle",content:"Create a loop by dragging from the bottom of one node to the top of itself",targetNodeId:"custom3",tooltipOffset:{x:-10,y:0},nodes:[{id:"source",type:"source",position:{x:0,y:0},data:{label:"source"}},{id:"end",type:"end",position:{x:0,y:600},data:{label:"end"}},{id:"custom1",type:"custom",position:{x:0,y:200},data:{label:"Supervisor"}},{id:"custom2",type:"custom",position:{x:eu?-120:-200,y:350},data:{label:"RAG"}},{id:"custom3",type:"custom",position:{x:eu?120:200,y:350},data:{label:"Web Search"}}],edges:[{id:"source->custom1",source:"source",target:"custom1",markerEnd:{type:d.QZ.ArrowClosed}},{id:"custom1->custom2",source:"custom1",target:"custom2",animated:!0,label:"conditional_edge_1",markerEnd:{type:d.QZ.ArrowClosed},type:"self-connecting-edge"},{id:"custom1->custom3",source:"custom1",target:"custom3",animated:!0,label:"conditional_edge_1",markerEnd:{type:d.QZ.ArrowClosed},type:"self-connecting-edge"},{id:"custom2->end",source:"custom2",target:"end",markerEnd:{type:d.QZ.ArrowClosed}},{id:"custom3->end",source:"custom3",animated:!0,label:"conditional_edge_2",target:"end",type:"self-connecting-edge",markerEnd:{type:d.QZ.ArrowClosed}},{id:"custom1->custom1",source:"custom3",target:"custom3",animated:!0,label:"conditional_edge_2",type:"self-connecting-edge",markerEnd:{type:d.QZ.ArrowClosed}}]},{key:"tooltip5",type:"tooltip",placement:"left",title:"5 of 7: Edge colors",content:"You can click on an edge and give it a color. This helps distinguish between different edges on the graph",targetNodeId:"custom1",tooltipOffset:{x:0,y:0},nodes:[{id:"source",type:"source",position:{x:0,y:0},data:{label:"source"}},{id:"end",type:"end",position:{x:0,y:600},data:{label:"end"}},{id:"custom1",type:"custom",position:{x:0,y:200},data:{label:"Supervisor"}},{id:"custom2",type:"custom",position:{x:eu?-120:-200,y:350},data:{label:"RAG"}},{id:"custom3",type:"custom",position:{x:eu?120:200,y:350},data:{label:"Web Search"}}],edges:[{id:"source->custom1",source:"source",target:"custom1",markerEnd:{type:d.QZ.ArrowClosed}},{id:"custom1->custom2",source:"custom1",target:"custom2",animated:!0,label:"conditional_edge_1",markerEnd:{type:d.QZ.ArrowClosed},type:"self-connecting-edge"},{id:"custom1->custom3",source:"custom1",target:"custom3",animated:!0,label:"conditional_edge_1",markerEnd:{type:d.QZ.ArrowClosed},type:"self-connecting-edge"},{id:"custom2->end",source:"custom2",target:"end",markerEnd:{type:d.QZ.ArrowClosed}},{id:"custom3->end",source:"custom3",animated:!0,label:"conditional_edge_2",type:"self-connecting-edge",target:"end",markerEnd:{type:d.QZ.ArrowClosed}},{id:"custom1->custom1",source:"custom3",target:"custom3",animated:!0,label:"conditional_edge_2",type:"self-connecting-edge",markerEnd:{type:d.QZ.ArrowClosed}}]},{key:"tooltip6",type:"tooltip",placement:"left",title:"6 of 7: Delete a node or edge",content:"To delete a node or edge, click on it and press backspace",targetNodeId:"custom1",tooltipOffset:{x:0,y:0},nodes:[{id:"source",type:"source",position:{x:0,y:0},data:{label:"source"}},{id:"end",type:"end",position:{x:0,y:600},data:{label:"end"}},{id:"custom1",type:"custom",position:{x:0,y:200},data:{label:"Supervisor"}},{id:"custom2",type:"custom",position:{x:eu?-120:-200,y:350},data:{label:"RAG"}},{id:"custom3",type:"custom",position:{x:eu?120:200,y:350},data:{label:"Web Search"}}],edges:[{id:"source->custom1",source:"source",target:"custom1",markerEnd:{type:d.QZ.ArrowClosed}},{id:"custom1->custom2",source:"custom1",target:"custom2",animated:!0,label:"conditional_edge_1",markerEnd:{type:d.QZ.ArrowClosed},type:"self-connecting-edge"},{id:"custom1->custom3",source:"custom1",target:"custom3",animated:!0,label:"conditional_edge_1",markerEnd:{type:d.QZ.ArrowClosed},type:"self-connecting-edge"},{id:"custom2->end",source:"custom2",target:"end",markerEnd:{type:d.QZ.ArrowClosed}},{id:"custom3->end",source:"custom3",target:"end",animated:!0,label:"conditional_edge_2",type:"self-connecting-edge",markerEnd:{type:d.QZ.ArrowClosed}},{id:"custom1->custom1",source:"custom3",target:"custom3",animated:!0,label:"conditional_edge_2",type:"self-connecting-edge",markerEnd:{type:d.QZ.ArrowClosed}}]},{key:"tooltip7",type:"tooltip",title:"7 of 7: Generate Code",content:"Once you're finished designing the graph, you can generate boilerplate code for it in Java, Python and TypeScript",position:{top:"100px",right:"10px"},placement:"bottom",nodes:[{id:"source",type:"source",position:{x:0,y:0},data:{label:"source"}},{id:"end",type:"end",position:{x:0,y:600},data:{label:"end"}},{id:"custom1",type:"custom",position:{x:0,y:200},data:{label:"Supervisor"}},{id:"custom2",type:"custom",position:{x:eu?-120:-200,y:350},data:{label:"RAG"}},{id:"custom3",type:"custom",position:{x:eu?120:200,y:350},data:{label:"Web Search"}}],edges:[{id:"source->custom1",source:"source",target:"custom1",markerEnd:{type:d.QZ.ArrowClosed}},{id:"custom1->custom2",source:"custom1",target:"custom2",animated:!0,label:"conditional_edge_1",markerEnd:{type:d.QZ.ArrowClosed},type:"self-connecting-edge"},{id:"custom1->custom3",source:"custom1",target:"custom3",animated:!0,label:"conditional_edge_1",markerEnd:{type:d.QZ.ArrowClosed},type:"self-connecting-edge"},{id:"custom2->end",source:"custom2",target:"end",markerEnd:{type:d.QZ.ArrowClosed}},{id:"custom3->end",source:"custom3",animated:!0,label:"conditional_edge_2",type:"self-connecting-edge",target:"end",markerEnd:{type:d.QZ.ArrowClosed}},{id:"custom1->custom1",source:"custom3",target:"custom3",animated:!0,label:"conditional_edge_2",type:"self-connecting-edge",markerEnd:{type:d.QZ.ArrowClosed}}]},{key:"tooltip8",type:"modal",placement:"top",title:"You're ready!",content:(0,n.jsx)("span",{children:"Onboarding complete. Happy building!"}),buttonText:"Start",imageUrl:"/langgraph-logo.png"}],handleOnboardingNext=()=>{en===eE.length-1?(localStorage.setItem("initialOnboardingComplete","true"),eo(!0)):(en===eE.length-2&&(m(u),h(b)),ea(e=>e+1))},e_=(0,s.useCallback)(e=>{g(e),ew(!0)},[g]),eS=(0,s.useCallback)(e=>{y(e),ew(!0)},[y]),eA=(0,s.useCallback)(()=>{I(!0)},[c,I]),eF=(0,s.useCallback)(e=>{let t="edge-".concat(R+1);H(e=>e+1);let o=x.filter(t=>t.source===e.source),n="conditional_edge",a=W;if(o.length>0){var l;let e=null===(l=o[0].label)||void 0===l?void 0:l.toString();if(e&&!e.startsWith("conditional_edge"))n=e;else{let e=o.some(e=>e.animated);e||U(a=W+1),n="conditional_edge_".concat(a)}}let s={...e,id:t,markerEnd:{type:d.QZ.ArrowClosed},type:"self-connecting-edge",animated:e.source===e.target,label:n};h(t=>{let o=(0,i.Z_)(s,t),a=o.filter(t=>t.source===e.source);return a.length>1?o.map(t=>t.source===e.source?{...t,animated:!0,label:n}:t):o}),I(!1)},[h,x,W,G,Y,K,R]),eL=(0,s.useCallback)(e=>{if(Q){I(!1);return}if(T){let t=T.current.getBoundingClientRect();if(D){let o=D.screenToFlowPosition({x:e.clientX-t.left,y:e.clientY-t.top}),n={id:"node-".concat(M+1),type:"custom",position:o,selected:!0,data:{label:"Node ".concat(M+1)}};z(M+1),m(e=>(0,r.Fb)([{type:"add",item:n}],e))}}},[c,m,D,T,Q,r.Fb,M]),eO=(0,s.useCallback)(e=>{let t=e.metaKey||e.ctrlKey;if(t){if(!1===et){P(!0),setTimeout(()=>P(!1),3e3);return}eL(e)}},[eL,et]),eZ=(0,s.useCallback)((e,t)=>{let o=e.metaKey||e.ctrlKey;o&&h(e=>e.map(e=>e.id===t.id?{...e,animated:!e.animated}:e))},[h]),handleEdgeUnselect=e=>{h(t=>t.map(t=>({...t,selected:t.id!==e&&t.selected})))},eP=!et&&en<eE.length&&eE[en].nodes?eE[en].nodes:c,eT=!et&&en<eE.length&&eE[en].edges?eE[en].edges:x.map(e=>({...e,data:{...e.data,onEdgeUnselect:handleEdgeUnselect}}));function generateSpec(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$,o=e.filter(e=>!e.animated),n=e.filter(e=>!0===e.animated),a={};n.forEach(e=>{a[e.source]||(a[e.source]=[]),a[e.source].push(e)});let l=new Set;e.forEach(e=>{var t,o;let n=c.find(t=>t.id===e.source),a=c.find(t=>t.id===e.target);n&&"source"!==n.type&&"end"!==n.type&&(null===(t=n.data)||void 0===t?void 0:t.label)&&l.add(n.data.label),a&&"source"!==a.type&&"end"!==a.type&&(null===(o=a.data)||void 0===o?void 0:o.label)&&l.add(a.data.label)});let s={name:"CustomAgent",nodes:Array.from(l).map(e=>({name:e})),edges:[...o.filter(e=>{let t=c.find(t=>t.id===e.source);return(null==t?void 0:t.type)==="source"}).map(e=>{var t;let o=c.find(t=>t.id===e.target);return{from:"__start__",to:(null==o?void 0:null===(t=o.data)||void 0===t?void 0:t.label)||""}}),...o.filter(e=>{let t=c.find(t=>t.id===e.target);return(null==t?void 0:t.type)==="end"}).map(e=>{var t;let o=c.find(t=>t.id===e.source);return{from:(null==o?void 0:null===(t=o.data)||void 0===t?void 0:t.label)||"",to:"__end__"}}),...o.filter(e=>{let t=c.find(t=>t.id===e.source),o=c.find(t=>t.id===e.target);return(null==t?void 0:t.type)!=="source"&&(null==o?void 0:o.type)!=="end"}).map(e=>{var t,o;let n=c.find(t=>t.id===e.source),a=c.find(t=>t.id===e.target);return{from:(null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.label)||"",to:(null==a?void 0:null===(o=a.data)||void 0===o?void 0:o.label)||""}}),...Object.entries(a).map(e=>{var t;let[o,n]=e,a=c.find(e=>e.id===o),l=(null==a?void 0:a.type)==="source"?"__start__":(null==a?void 0:null===(t=a.data)||void 0===t?void 0:t.label)||"";return{from:l,condition:String(n[0].label||""),paths:n.map(e=>{var t;let o=c.find(t=>t.id===e.target);return(null==o?void 0:o.type)==="end"?"__end__":(null==o?void 0:null===(t=o.data)||void 0===t?void 0:t.label)||""})}})]},r=Object.entries(s).map(e=>{let[t,o]=e;return"nodes"===t?"".concat(t,":\n").concat(o.map(e=>"  - name: ".concat(e.name)).join("\n")):"edges"===t?"".concat(t,":\n").concat(o.map(e=>"condition"in e?"  - from: ".concat(e.from,"\n    condition: ").concat(e.condition,"\n    paths: [").concat(e.paths.join(", "),"]"):"  - from: ".concat(e.from,"\n    to: ").concat(e.to)).join("\n")):"".concat(t,": ").concat(o)}).join("\n");console.log(r,"yaml string");let i="python"===t?".py":"java"===t?".java":".ts",d="# This YAML was auto-generated based on an architecture \n# designed in LangGraph Builder (https://build.langchain.com).\n#\n# The YAML was used by langgraph-gen (https://github.com/langchain-ai/langgraph-gen-py) \n# to generate a code stub for a LangGraph application that follows the architecture.\n#\n# langgraph-gen is an open source CLI tool that converts YAML specifications into LangGraph code stubs.\n#\n# The code stub generated from this YAML can be found in stub".concat(i,".\n#\n# A placeholder implementation for the generated stub can be found in implementation").concat(i,".\n\n");return d+r}let handleLanguageChange=async e=>{let t=e.toLowerCase();ee(t),eg(generateSpec(x,t))},generateCodeWithLanguage=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$;try{es(!0),L(!0);let t=generateSpec(x,e);eg(t);let[o,n,a]=await Promise.all([fetch("/api/generate-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({spec:t,language:"java",format:"yaml"})}),fetch("/api/generate-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({spec:t,language:"python",format:"yaml"})}),fetch("/api/generate-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({spec:t,language:"typescript",format:"yaml"})})]),[l,s,r]=await Promise.all([o.json(),n.json(),a.json()]);q({python:{stub:s.stub,implementation:s.implementation},typescript:{stub:r.stub,implementation:r.implementation},java:{stub:l.stub,implementation:l.implementation}}),V("spec")}catch(e){console.error("Failed to generate code:",e),q({})}finally{es(!1)}},eD="spec"===J?em:(null===(e=X[$])||void 0===e?void 0:e[J])||"",eB="python"===$?".py":"java"===$?".java":".ts";return(0,n.jsxs)("div",{className:"w-screen h-screen",children:[(0,n.jsxs)("div",{className:"absolute top-5 left-5 z-50 flex gap-2",children:[(0,n.jsxs)("button",{onClick:()=>et&&eh(!ex),className:"flex items-center gap-2 px-3 py-2 bg-white rounded-lg shadow-md transition-shadow ".concat(et?"hover:shadow-lg":"cursor-not-allowed opacity-70"),disabled:!et,children:[(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,n.jsx)("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),(0,n.jsx)("line",{x1:"9",y1:"21",x2:"9",y2:"9"})]}),"Templates"]}),(0,n.jsx)(LoadGraphButton,{onClick:()=>eb(!0),initialOnboardingComplete:et}),(0,n.jsx)(SaveGraphButton,{enabled:ej,onSaved:()=>ew(!1),initialOnboardingComplete:et,reactFlowInstance:D,title:ef,nodes:c,edges:x}),(0,n.jsx)(TitleInput,{title:ef,savePending:ej,onChange:e=>ev(e)})]}),(0,n.jsx)("div",{className:"absolute top-5 right-5 z-50 flex gap-2",children:(0,n.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,n.jsx)(v.Z,{title:!eN()&&et?"Create a valid graph to generate code":"",placement:"bottom",arrow:!0,children:(0,n.jsx)("button",{className:"py-2 px-3 rounded-md transition-colors duration-200 ".concat(et?eN()?"bg-[#2F6868] cursor-pointer hover:bg-[#245757]":"bg-gray-500 opacity-70 cursor-not-allowed":en>=3?"bg-[#2F6868] cursor-not-allowed opacity-100":"bg-gray-500 opacity-70 cursor-not-allowed"),onClick:eN()&&et?()=>{generateCodeWithLanguage("java")}:void 0,disabled:!eN()||!et,children:(0,n.jsxs)("div",{className:"text-[#333333] font-medium text-center text-slate-100",children:[" ","Generate Code"]})})}),(0,n.jsx)("button",{disabled:!et,className:"p-3 rounded-md shadow-lg border border-[#2F6868] text-[#2F6868] focus:outline-none ".concat(et?"":"cursor-not-allowed"),"aria-label":"Toggle Information Panel",onClick:()=>ei(!er),children:(0,n.jsx)(k.Z,{className:"h-6 w-6"})})]})}),ex&&(0,n.jsx)(TemplatesPanel,{onSelectTemplate:e=>{m(e.nodes),h(e.edges),eh(!1)},onClose:()=>eh(!1)}),(0,n.jsxs)("div",{ref:T,className:"no-scrollbar no-select",style:{width:"100vw",height:"100vh"},children:[(0,n.jsxs)(ColorEditingProvider,{children:[!et&&(0,n.jsx)("style",{children:"\n                .react-flow__node,\n                .react-flow__node *,\n                .react-flow__node:hover,\n                .react-flow__node:hover * {\n                  cursor: not-allowed !important;\n                  pointer-events: none !important;\n                }\n              "}),(0,n.jsx)(r.x$,{nodes:eP,nodeTypes:p,onEdgeClick:eZ,onNodesChange:e_,edges:null==eT?void 0:eT.map(e=>({...e,data:{...e.data}})),edgeTypes:f,onEdgesChange:eS,onConnect:eF,onInit:B,fitView:!0,onConnectStart:eA,className:"z-10 bg-[#EAEAEA]",style:{backgroundColor:"#EAEAEA"},proOptions:{hideAttribution:!0},zoomOnDoubleClick:!1,onPaneClick:eO,children:(0,n.jsx)(r.Aq,{})})]}),(0,n.jsx)(j.Z,{open:O,onClose:()=>P(!1),autoHideDuration:3e3,color:"neutral",variant:"outlined",anchorOrigin:{vertical:"bottom",horizontal:"right"},children:"Canvas interaction is temporarily disabled during onboarding"}),(0,n.jsx)("div",{className:"sm:hidden z-20 absolute top-0 left-0 w-full h-full flex items-center justify-center bg-black bg-opacity-50",children:(0,n.jsx)(components_GenericModal,{imageUrl:"/langgraph-logo.png",onButtonClick:()=>{window.location.href="sms:&body=build.langchain.com"},isOpen:!0,onClose:()=>{},title:"Desktop Only",content:"LangGraph Builder is not supported on mobile devices",buttonText:"Text me the link"})}),(0,n.jsxs)("div",{className:"hidden sm:block",children:[(0,n.jsx)("div",{className:"\n            fixed bottom-0 left-0 bg-white shadow-xl rounded-md z-20 \n            transform transition-transform duration-300 \n            ".concat(er?"translate-x-0":"-translate-x-full","\n          "),children:(0,n.jsxs)("div",{className:"flex flex-col p-6 space-y-5",children:[(0,n.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,n.jsx)("h2",{className:"text-xl font-medium",children:"Key Commands"}),(0,n.jsx)("button",{className:"font-bold text-gray-400 hover:text-gray-600 transition-colors duration-300 ease-in-out",onClick:()=>ei(!1),children:(0,n.jsx)(N.Z,{size:25})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-slate-800",children:"Create a node"}),(0,n.jsx)("p",{className:"mt-2",children:"⌘ + click anywhere on the canvas"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-slate-800",children:"Create an edge"}),(0,n.jsx)("p",{className:"mt-2",children:"click + drag from the bottom of one node to the top of another"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-slate-800",children:"Create a conditional edge"}),(0,n.jsx)("p",{className:"mt-2",children:"connect one node to multiple nodes"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-slate-800",children:"Create a cycle"}),(0,n.jsx)("p",{className:"mt-2",children:"click + drag from the bottom to the top of a node"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-slate-800",children:"Delete an edge/node"}),(0,n.jsx)("p",{className:"mt-2",children:"click the edge/node and hit the backspace key"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-slate-800",children:"Color an edge"}),(0,n.jsx)("p",{className:"mt-2",children:"click the edge and select an option from the color picker"})]})]})}),!1===et&&en<eE.length&&(0,n.jsx)("div",{className:"fixed inset-0 z-10",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:10,pointerEvents:"none"},children:"modal"===eE[en].type?(0,n.jsx)("div",{children:(0,n.jsx)(components_GenericModal,{isOpen:!0,onClose:handleOnboardingNext,title:eE[en].title||"",content:(0,n.jsx)("div",{children:eE[en].content}),buttonText:eE[en].buttonText||"",imageUrl:eE[en].imageUrl})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"fixed pointer-events-auto ".concat(eE[en].className||""," hidden lg:block"),style:{...eE[en].position?eE[en].position:function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0};if(!D||!e)return{top:"50%",left:"50%",transform:"translate(-50%, -50%)"};let n=D.getNode(e);if(!n)return{top:"50%",left:"50%",transform:"translate(-50%, -50%)"};let a=D.getViewport(),l={x:n.position.x*a.zoom+a.x,y:n.position.y*a.zoom+a.y},s=document.querySelector('[data-id="'.concat(e,'"]')),r=null==s?void 0:s.getBoundingClientRect(),i=(null==r?void 0:r.height)||40,d=(null==r?void 0:r.width)||150;switch(l.x+=o.x,l.y+=o.y,t.split("-")[0]){case"top":return{top:"".concat(l.y-12,"px"),left:"".concat(l.x+d/2,"px"),transform:"translate(-50%, -100%)"};case"bottom":default:return{top:"".concat(l.y+i+12,"px"),left:"".concat(l.x+d/2,"px"),transform:"translate(-50%, 0)"};case"left":return{top:"".concat(l.y+i/2,"px"),left:"".concat(l.x-12,"px"),transform:"translate(-100%, -50%)"};case"right":return{top:"".concat(l.y+i/2,"px"),left:"".concat(l.x+d+12,"px"),transform:"translate(0, -50%)"}}}(eE[en].targetNodeId||"",eE[en].placement||"top",eE[en].tooltipOffset),pointerEvents:"auto"},children:(0,n.jsxs)("div",{className:"py-3 px-3 flex bg-white rounded-lg shadow-lg flex-col w-[280px] md:w-[380px]",children:[(0,n.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,n.jsx)("div",{className:"text-sm font-medium",children:eE[en].title}),(0,n.jsx)("button",{onClick:handleOnboardingNext,className:"text-sm bg-slate-800 hover:bg-slate-900 text-slate-100 py-1 px-2 rounded-md",children:"Next"})]}),(0,n.jsx)("div",{className:"text-sm pt-3",children:eE[en].content})]})}),(0,n.jsx)("div",{className:"fixed bottom-[150px] right-5 z-50 pointer-events-auto lg:hidden",children:(0,n.jsxs)("div",{className:"py-3 px-3 flex bg-white rounded-lg shadow-lg flex-col w-[280px] md:w-[380px]",children:[(0,n.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,n.jsx)("div",{className:"text-sm font-medium",children:eE[en].title}),(0,n.jsx)("button",{onClick:handleOnboardingNext,className:"text-sm bg-slate-800 hover:bg-slate-900 text-slate-100 py-1 px-2 rounded-md",children:"Next"})]}),(0,n.jsx)("div",{className:"text-sm pt-3",children:eE[en].content})]})})]})}),!1===et&&5===en&&(0,n.jsx)(()=>(0,n.jsx)("div",{className:"fixed bottom-5 cursor-disabled left-5 z-50 ".concat(et?"":"cursor-not-allowed"),style:{width:"280px"},children:(0,n.jsxs)("div",{className:"flex flex-col gap-3 bg-white p-4 rounded-lg shadow-xl",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"text-sm font-semibold text-gray-800",children:"Set edge color"}),(0,n.jsx)("button",{disabled:!0,className:"text-sm cursor-not-allowed bg-slate-800 hover:bg-slate-900 text-slate-100 py-1 px-2 rounded-md",children:"Done"})]}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"relative cursor-not-allowed w-full h-[80px] rounded-lg shadow-md ring-1 ring-gray-200 bg-gray-100"}),(0,n.jsx)("div",{className:"mt-2 flex justify-center",children:(0,n.jsx)("div",{className:"bg-gray-100 px-3 py-1 rounded-full",children:(0,n.jsx)("code",{className:"text-sm font-mono text-gray-700",children:"#BDBDBD"})})})]})]})}),{}),(0,n.jsx)(w.ZP,{hideBackdrop:!0,onClose:()=>{L(!1)},onClick:e=>{e.target===e.currentTarget&&L(!1)},open:F,children:(0,n.jsx)(C.Z,{className:"bg-slate-150 hidden sm:block absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex flex-col",children:[!el&&((null===(t=X.python)||void 0===t?void 0:t.stub)||(null===(o=X.python)||void 0===o?void 0:o.implementation))&&(0,n.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,n.jsx)("h2",{className:"md:text-lg font-medium",children:"Generated Code:"}),(0,n.jsxs)("div",{className:"flex py-3 md:py-0 flex-row gap-2",children:[(0,n.jsx)("button",{onClick:()=>{var e,t,o,n,a,l;let s=new(Z());s.file("spec.yml",em),"python"===$?((null===(e=X.python)||void 0===e?void 0:e.stub)&&s.file("stub.py",X.python.stub),(null===(t=X.python)||void 0===t?void 0:t.implementation)&&s.file("implementation.py",X.python.implementation)):"java"===$?((null===(o=X.java)||void 0===o?void 0:o.stub)&&s.file("GraphAgentBuilder.java",X.java.stub),(null===(n=X.java)||void 0===n?void 0:n.implementation)&&s.file("GraphAgentBuilderImpl.java",X.java.implementation)):((null===(a=X.typescript)||void 0===a?void 0:a.stub)&&s.file("stub.ts",X.typescript.stub),(null===(l=X.typescript)||void 0===l?void 0:l.implementation)&&s.file("implementation.ts",X.typescript.implementation)),s.generateAsync({type:"blob"}).then(e=>{let t=window.URL.createObjectURL(e),o=document.createElement("a");o.href=t,o.download="langgraph-agent.zip",document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(t)})},className:"px-3 py-1 bg-white rounded-lg border border-gray-300 hover:bg-gray-50",title:"Download as ZIP",children:(0,n.jsx)(E.Z,{size:18})}),(0,n.jsx)("div",{className:"max-w-xs pr-3",children:(0,n.jsx)(multibutton,{lang:$,onSelectionChange:e=>handleLanguageChange(e)})}),(0,n.jsx)("button",{className:"font-bold pr-3 text-gray-400 hover:text-gray-600 transition-colors duration-300 ease-in-out",onClick:()=>{L(!1)},children:(0,n.jsx)(N.Z,{size:25})})]})]}),(0,n.jsx)("div",{className:"flex flex-col gap-3",children:!el&&((null===(a=X.python)||void 0===a?void 0:a.stub)||(null===(l=X.python)||void 0===l?void 0:l.implementation))?(0,n.jsxs)("div",{className:"mt-3 md:w-[50vw] md:h-[80vh]",children:[(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("button",{className:"px-3 rounded-t-md ".concat("spec"===J?"bg-[#246161] text-white":"bg-gray-200"),onClick:()=>V("spec"),children:"spec.yml"}),(0,n.jsx)("button",{className:"px-3 rounded-t-md py-1 ".concat("stub"===J?"bg-[#246161] text-white":"bg-gray-200"),onClick:()=>V("stub"),children:"stub".concat(eB)}),(0,n.jsx)("button",{className:"px-3 rounded-t-md ".concat("implementation"===J?"bg-[#246161] text-white":"bg-gray-200"),onClick:()=>V("implementation"),children:"implementation".concat(eB)})]}),(0,n.jsxs)("div",{className:"relative bg-gray-100 overflow-hidden h-[calc(80vh-30px)]",children:[(0,n.jsx)("button",{onClick:()=>{eD&&navigator.clipboard.writeText(eD).then(()=>{ec(!0),setTimeout(()=>ec(!1),1500)}).catch(e=>console.error("Failed to copy code: ",e))},className:"absolute top-5 right-6 z-10 p-1 bg-white rounded border border-gray-300 hover:bg-gray-50",title:"Copy code to clipboard",children:ed?(0,n.jsx)(_.Z,{size:18}):(0,n.jsx)(S.Z,{size:18})}),(0,n.jsx)(A.y$,{theme:A.np.nightOwl,code:eD,language:"spec"===J?"yaml":"python"===$?"python":"java"===$?"java":"typescript",children:e=>{let{style:t,tokens:o,getLineProps:a,getTokenProps:l}=e;return(0,n.jsx)("pre",{className:"p-3 overflow-auto h-full max-h-full",style:{...t,height:"100%"},children:o.map((e,t)=>(0,n.jsx)("div",{...a({line:e}),children:e.map((e,t)=>(0,n.jsx)("span",{...l({token:e})},t))},t))})}})]})]}):(0,n.jsx)("div",{className:"mt-3 md:w-[50vw] md:h-[80vh] flex items-center justify-center",children:(0,n.jsx)("div",{className:"flex flex-col items-center gap-4",children:(0,n.jsx)("div",{className:"flex",children:(0,n.jsx)(LoadingSpinner,{})})})})})]})})})})]})]}),(0,n.jsx)(LoadGraphModal,{isOpen:ey,onClose:()=>eb(!1),onLoadGraph:e=>{ev(e.name),m(e.nodes),h(e.edges),null==D||D.setViewport(e.viewport)}})]})}let SaveGraphButton=e=>{let{enabled:t,onSaved:o,title:a,initialOnboardingComplete:l,reactFlowInstance:r,nodes:i,edges:d}=e,[c,u]=(0,s.useState)(!1);return(0,n.jsxs)("button",{onClick:async()=>{if(!r)return;let e=r.getViewport();try{u(!0);let t=await fetch("/api/save-graph",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,nodes:i,edges:d,viewport:e})}),n=await t.json();o(),console.log("Graph saved:",n)}catch(e){console.error("Error saving graph:",e)}finally{u(!1)}},className:"flex items-center gap-2 px-3 py-2 bg-white rounded-lg shadow-md transition-shadow ".concat(l&&t?"hover:shadow-lg":"cursor-not-allowed opacity-70"),disabled:!l||!t,children:[c?(0,n.jsx)("div",{className:"w-4 h-4 border-2 border-[#2F6868] border-t-transparent rounded-full animate-spin"}):(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),(0,n.jsx)("polyline",{points:"17 21 17 13 7 13 7 21"}),(0,n.jsx)("polyline",{points:"7 3 7 8 15 8"})]}),"Save"]})},LoadGraphButton=e=>{let{initialOnboardingComplete:t,onClick:o}=e;return(0,n.jsxs)("button",{onClick:o,className:"flex items-center gap-2 px-3 py-2 bg-white rounded-lg shadow-md transition-shadow ".concat(t?"hover:shadow-lg":"cursor-not-allowed opacity-70"),disabled:!t,children:[(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,n.jsx)("polyline",{points:"17 8 12 3 7 8"}),(0,n.jsx)("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"Load"]})},TitleInput=e=>{let{savePending:t,title:o,onChange:a}=e,[l,r]=(0,s.useState)(!1);return(0,n.jsxs)("div",{className:"flex items-center",children:[t&&(0,n.jsx)("span",{className:"ml-1 text-2xl text-gray-600",children:"*"}),(0,n.jsx)("input",{type:"text",placeholder:"Graph Title",className:"px-3 py-2 text-lg rounded-md transition-all duration-150 outline-none bg-transparent ".concat(l?"border border-[#2F6868]":"border-transparent"," ").concat(t?"italic text-gray-600":""),value:o,onChange:e=>a(e.target.value),onFocus:()=>r(!0),onBlur:()=>r(!1)})]})};function Page(){return(0,n.jsx)(r.tV,{children:(0,n.jsx)(d.tV,{children:(0,n.jsx)(ButtonTextProvider,{children:(0,n.jsx)(EdgeLabelProvider,{children:(0,n.jsx)(EditingProvider,{children:(0,n.jsx)(App,{})})})})})})}var pages=()=>(0,n.jsxs)("div",{children:[(0,n.jsxs)(l(),{children:[(0,n.jsx)("title",{children:"LangGraph Builder"}),(0,n.jsx)("meta",{name:"description",content:"LangGraph Builder"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsx)(Page,{})]})}},function(e){e.O(0,[95,241,168,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);